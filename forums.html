<!DOCTYPE html>
<body>
<canvas id="matrix-bg"></canvas>
<canvas id="matrix-rain" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; opacity: 0.6; pointer-events: none;"></canvas>

<div class="navbar-links">
    <a href="index.html" class="hover-underline">Home</a>
</div>

  <header style="padding: 20px; background-color: #0f0f0f; color: #fff; text-align: center;">
    <h1>📡 DEBT Forum</h1>
    <p style="margin: 10px 0;">Where rebels write history.</p>
    <a href="index.html" style="color: #e60000; text-decoration: none;">⬅ Back to Main Site</a>
  </header>

  <section id="forum" style="background-color: #111; color: #f5f5f5; padding: 40px; min-height: 80vh;">
    <div class="container">
      <h2 style="font-size: 32px; margin-bottom: 20px;">🗣️ Global Forum</h2>
      <p style="margin-bottom: 20px;">Leave a message. We'll build on this soon.</p>
      
      <textarea id="forumInput" placeholder="Write your message here..." style="width: 100%; height: 100px; background-color: #222; color: #fff; border: 1px solid #555; padding: 10px;"></textarea>
      <button onclick="submitForumPost()" style="margin-top: 10px; padding: 10px 20px; background-color: #e60000; color: white; border: none; cursor: pointer;">Post</button>

      <div id="forumMessages" style="margin-top: 40px;"></div>
    </div>
  </section>

<script>
  const forumMessages = JSON.parse(localStorage.getItem("debtForumMessages") || "[]");

  function submitForumPost() {
    const input = document.getElementById("forumInput");
    const message = input.value.trim();
    if (!message) return;

    const wallet = window?.solana?.publicKey?.toString() || "Anonymous";
    const post = { user: wallet, text: message, time: new Date().toLocaleString() };
    forumMessages.unshift(post);
    localStorage.setItem("debtForumMessages", JSON.stringify(forumMessages));
    input.value = "";
    displayForumMessages();
  }

  function displayForumMessages() {
    const forumDiv = document.getElementById("forumMessages");
    forumDiv.innerHTML = "";
    forumMessages.forEach((msg) => {
      const el = document.createElement("div");
      el.innerHTML = `<p><strong>${msg.user}</strong> <em style="font-size: 12px;">[${msg.time}]</em><br>${msg.text}</p><hr>`;
      forumDiv.appendChild(el);
    });
  }

  window.onload = () => {
    displayForumMessages();
  };
</script>

<div class="bubble-nav">
    <a href="https://x.com/debtculture" target="_blank"><i class="fab fa-x-twitter"></i></a>
    <a href="https://t.me/DebtCulture" target="_blank"><i class="fab fa-telegram"></i></a>
    <a href="https://dexscreener.com/solana/9NQc7BnhfLbNwVFXrVsymEdqEFRuv5e1k7CuQW82pump" target="_blank"><i class="fas fa-chart-line"></i></a>
    <a href="https://discord.gg/debtculture" target="_blank"><i class="fab fa-discord"></i></a>
</div>

</body>
</html>
